---
  swagger: "2.0"
  info: 
    description: "Autogenerated swagger spec"
    version: "0.1.0"
    title: "metarpheus-swagger"
  consumes: 
    - "application/json"
  produces: 
    - "application/json"
  paths: 
    /health: 
      get: 
        summary: "System health check"
        parameters: []
        responses: 
          200: 
            description: "a Health"
            schema: 
              $ref: "#/definitions/Health"
    /alerts: 
      get: 
        summary: "get all ICQ alerts"
        parameters: 
          - 
            in: "query"
            name: "workcellSerialNumber"
            required: true
            type: "string"
          - 
            in: "query"
            name: "moduleId"
            required: false
            type: "integer"
            format: "int32"
          - 
            in: "query"
            name: "category"
            required: true
            schema: 
              $ref: "#/definitions/ICQAlertCategory"
        responses: 
          200: 
            description: "a List"
            schema: 
              type: "array"
              items: 
                $ref: "#/definitions/ICQAlert"
    /calibrations: 
      get: 
        summary: "get all ICQ workcells modules calibrations, linked to ICQ Assays with orderingStatus != Disabled"
        parameters: 
          - 
            in: "query"
            name: "workcellSerialNumber"
            required: true
            type: "string"
          - 
            in: "query"
            name: "moduleId"
            required: true
            type: "integer"
            format: "int32"
        responses: 
          200: 
            description: "a List"
            schema: 
              type: "array"
              items: 
                $ref: "#/definitions/ICQCalibration"
    /onBoardSolutions: 
      get: 
        summary: "get all ICQ workcells modules on-board solutions"
        parameters: 
          - 
            in: "query"
            name: "workcellSerialNumber"
            required: true
            type: "string"
          - 
            in: "query"
            name: "moduleId"
            required: true
            type: "integer"
            format: "int32"
        responses: 
          200: 
            description: "a List"
            schema: 
              type: "array"
              items: 
                $ref: "#/definitions/ICQOnBoardSolution"
    /QCAnalyses: 
      get: 
        summary: "get all ICQ workcell modules QC Analyses, linked to ICQ Assays with orderingStatus != Disabled"
        parameters: 
          - 
            in: "query"
            name: "workcellSerialNumber"
            required: true
            type: "string"
          - 
            in: "query"
            name: "moduleId"
            required: true
            type: "integer"
            format: "int32"
        responses: 
          200: 
            description: "a List"
            schema: 
              type: "array"
              items: 
                $ref: "#/definitions/ICQQCAnalysis"
    /QCMaterials: 
      get: 
        summary: "get all ICQ workcell modules QC Materials, linked to ICQ Assays with orderingStatus != Disabled"
        parameters: 
          - 
            in: "query"
            name: "workcellSerialNumber"
            required: true
            type: "string"
          - 
            in: "query"
            name: "moduleId"
            required: true
            type: "integer"
            format: "int32"
        responses: 
          200: 
            description: "a List"
            schema: 
              type: "array"
              items: 
                $ref: "#/definitions/ICQQCMaterial"
    /workcells: 
      get: 
        summary: "get ICQ workcells information"
        parameters: []
        responses: 
          200: 
            description: "a ICQWorkcell"
            schema: 
              $ref: "#/definitions/ICQWorkcell"
  definitions: 
    Health: 
      type: "object"
      properties: 
        id: 
          description: "Name of the service."
          type: "string"
        version: 
          description: "Version of the service."
          type: "string"
        currentAsOfUtc: 
          description: "Current UTC date and time of the request, in ISO 8601 format."
          type: "string"
          format: "date"
    ICQAlert: 
      type: "object"
      properties: 
        _moduleId: 
          type: "integer"
          format: "int32"
        moduleName: 
          type: "string"
        _workcellSerialNumber: 
          type: "string"
        workcellName: 
          type: "string"
        AIMCode: 
          type: "integer"
          format: "int32"
        AIMSubCode: 
          type: "integer"
          format: "int32"
        alertDateTime: 
          type: "string"
          format: "date"
        category: 
          $ref: "#/definitions/ICQAlertCategory"
        description: 
          type: "string"
    ICQAlertCategory: 
      type: "string"
      enum: 
        - "Critical"
        - "Alert"
        - "Notification"
    ICQAssayReference: 
      type: "object"
      properties: 
        _number: 
          type: "integer"
          format: "int32"
        _version: 
          type: "integer"
          format: "int32"
    ICQCalibration: 
      type: "object"
      properties: 
        _moduleId: 
          type: "integer"
          format: "int32"
        moduleName: 
          type: "string"
        _workcellSerialNumber: 
          type: "string"
        workcellName: 
          type: "string"
        assayReference: 
          $ref: "#/definitions/ICQAssayReference"
        assayName: 
          type: "string"
        reagentLotNumber: 
          type: "string"
        calibratorLotNumber: 
          type: "string"
        method: 
          $ref: "#/definitions/ICQCalibrationMethod"
        type: 
          $ref: "#/definitions/ICQCalibrationType"
        calibrationDateTime: 
          type: "string"
          format: "date"
        expirationDateTime: 
          type: "string"
          format: "date"
        status: 
          $ref: "#/definitions/ICQCalibrationStatus"
        user: 
          type: "string"
    ICQCalibrationMethod: 
      type: "string"
      enum: 
        - "Qual1Point"
        - "Qual2Point"
        - "CalValueReference"
        - "ICT"
        - "Exponential"
        - "Linear"
        - "Spline"
        - "ABS"
        - "Factor"
        - "UseFactor"
        - "UseFactorBlank"
        - "PLC4Y"
        - "PLC4X"
        - "PLC4XTransform"
        - "PLC5Y"
        - "PLC5X"
        - "PLC5XTransform"
        - "PointToPoint"
        - "IAReference"
        - "Logit-4"
        - "Logit-5"
    ICQCalibrationType: 
      type: "string"
      enum: 
        - "Full"
        - "Adjust"
    ICQCalibrationStatus: 
      type: "string"
      enum: 
        - "NoCal"
        - "Ok"
        - "Failed"
        - "Expired"
        - "Overridden"
        - "OverriddenLot"
        - "PendingQC"
        - "InProcess"
    ICQOnBoardSolution: 
      type: "object"
      properties: 
        _moduleId: 
          type: "integer"
          format: "int32"
        moduleName: 
          type: "string"
        _workcellSerialNumber: 
          type: "string"
        workcellName: 
          type: "string"
        _lotNumber: 
          type: "string"
        _serialNumber: 
          type: "string"
        configurationId: 
          type: "string"
        configurationVersion: 
          type: "integer"
          format: "int32"
        expirationDate: 
          type: "string"
          format: "date"
        carouselPosition: 
          type: "integer"
          format: "int32"
        RSMPosition: 
          type: "integer"
          format: "int32"
        percentOfRemainingVolume: 
          type: "integer"
          format: "int32"
        remainingHoursOfOnBoardStability: 
          type: "integer"
          format: "int32"
        status: 
          $ref: "#/definitions/ICQReagentStatus"
        cartridgeStatus: 
          $ref: "#/definitions/ICQReagentCartridgeStatus"
    ICQProcessingModule: 
      type: "object"
      properties: 
        _id: 
          type: "integer"
          format: "int32"
        serialNumber: 
          type: "string"
        type: 
          $ref: "#/definitions/ICQModuleType"
        name: 
          type: "string"
        overallStatus: 
          $ref: "#/definitions/ICQOverallStatus"
        status: 
          $ref: "#/definitions/ICQModuleStatus"
        numberOfTestsInProgress: 
          type: "integer"
          format: "int32"
        reagentOverallStatus: 
          $ref: "#/definitions/ICQOverallStatus"
        supplyOverallStatus: 
          $ref: "#/definitions/ICQOverallStatus"
        calibrationOverallStatus: 
          $ref: "#/definitions/ICQOverallStatus"
        QCAnalysisOverallStatus: 
          $ref: "#/definitions/ICQOverallStatus"
        maintenanceOverallStatus: 
          $ref: "#/definitions/ICQOverallStatus"
    ICQModuleType: 
      type: "string"
      enum: 
        - "IA"
        - "CC"
    ICQModuleStatus: 
      type: "string"
      enum: 
        - "Offline"
        - "Stopped"
        - "Initializing"
        - "Warming"
        - "Idle"
        - "Running"
        - "Processing"
        - "Pausing"
        - "Maintenance"
    ICQOverallStatus: 
      type: "string"
      enum: 
        - "Ok"
        - "Warning"
        - "Error"
    ICQQCAnalysis: 
      type: "object"
      properties: 
        _moduleId: 
          type: "integer"
          format: "int32"
        moduleName: 
          type: "string"
        _workcellSerialNumber: 
          type: "string"
        workcellName: 
          type: "string"
        assayReference: 
          $ref: "#/definitions/ICQAssayReference"
        assayName: 
          type: "string"
        controlSetName: 
          type: "string"
        controlLevelName: 
          type: "string"
        controlLotNumber: 
          type: "string"
        assayQCStatus: 
          $ref: "#/definitions/ICQQCAnalysisStatus"
    ICQQCAnalysisStatus: 
      type: "string"
      enum: 
        - "Success"
        - "QCOutOfRange"
        - "WestgardWarning"
        - "WestgardFailure"
    ICQQCMaterial: 
      type: "object"
      properties: 
        _moduleId: 
          type: "integer"
          format: "int32"
        moduleName: 
          type: "string"
        _workcellSerialNumber: 
          type: "string"
        workcellName: 
          type: "string"
        assayReferences: 
          type: "array"
          items: 
            $ref: "#/definitions/ICQAssayReference"
        assayNames: 
          type: "array"
          items: 
            type: "string"
        _setName: 
          type: "string"
        _levelName: 
          type: "string"
        _lotNumber: 
          type: "string"
        _serialNumber: 
          type: "string"
        carouselPosition: 
          type: "integer"
          format: "int32"
        RSMPosition: 
          type: "integer"
          format: "int32"
        rackId: 
          type: "string"
        rackPosition: 
          type: "integer"
          format: "int32"
        percentVolumeRemaining: 
          type: "integer"
          format: "int32"
        materialExpirationDate: 
          type: "string"
          format: "date"
        remainingHoursOfOnBoardStability: 
          type: "integer"
          format: "int32"
        remainingMinutesOfInUseStability: 
          type: "integer"
          format: "int32"
        status: 
          $ref: "#/definitions/ICQQCMaterialStatus"
    ICQQCMaterialStatus: 
      type: "string"
      enum: 
        - "Ok"
        - "LowAlert"
        - "Empty"
        - "Expired"
        - "Overridden"
    ICQReagentStatus: 
      type: "string"
      enum: 
        - "Ok"
        - "Mixing"
        - "Overridden"
        - "Disabled"
        - "LowAlert"
        - "Expired"
        - "ExpiredError"
        - "Empty"
        - "NoAssay"
        - "PickError"
        - "PlaceError"
        - "LoadError"
        - "Incomplete"
        - "BCFail"
        - "Undefined"
    ICQReagentCartridgeStatus: 
      type: "string"
      enum: 
        - "Ok"
        - "UnloadError"
        - "LoadError"
        - "ScheduledUnload"
        - "ScheduledLoad"
        - "PartiallyUnloaded"
        - "Scanning"
        - "Unloading"
        - "Loading"
    ICQRSM: 
      type: "object"
      properties: 
        serialNumber: 
          type: "string"
        name: 
          type: "string"
        overallStatus: 
          $ref: "#/definitions/ICQOverallStatus"
        status: 
          $ref: "#/definitions/ICQRSMStatus"
    ICQRSMStatus: 
      type: "string"
      enum: 
        - "Offline"
        - "Stopped"
        - "Initializing"
        - "Idle"
        - "Running"
        - "Pausing"
        - "Maintenance"
    ICQWorkcell: 
      type: "object"
      properties: 
        _serialNumber: 
          type: "string"
        name: 
          type: "string"
        numberOfSamples: 
          type: "integer"
          format: "int32"
        numberOfResultsPending: 
          type: "integer"
          format: "int32"
        numberOfExceptions: 
          type: "integer"
          format: "int32"
        LISConnectionStatus: 
          $ref: "#/definitions/ICQConnectionStatus"
        LASConnectionStatus: 
          $ref: "#/definitions/ICQConnectionStatus"
        AbbottLinkConnectionStatus: 
          $ref: "#/definitions/ICQConnectionStatus"
        PrinterConnectionStatus: 
          $ref: "#/definitions/ICQPrinterStatus"
        currentUser: 
          type: "string"
        processingModules: 
          type: "array"
          items: 
            $ref: "#/definitions/ICQProcessingModule"
        RSM: 
          $ref: "#/definitions/ICQRSM"
    ICQConnectionStatus: 
      type: "string"
      enum: 
        - "Connected"
        - "NotConnected"
        - "NotConfigured"
    ICQPrinterStatus: 
      type: "string"
      enum: 
        - "NoError"
        - "Warning"
        - "Error"
        - "NotConfigured"
